(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){(function(global){"";function compare(a,b){if(a===b){return 0}var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y){return-1}if(y<x){return 1}return 0}function isBuffer(b){if(global.Buffer&&typeof global.Buffer.isBuffer==="function"){return global.Buffer.isBuffer(b)}return!!(b!=null&&b._isBuffer)}var util=require("util/");var hasOwn=Object.prototype.hasOwnProperty;var pSlice=Array.prototype.slice;var functionsHaveNames=function(){return function foo(){}.name==="foo"}();function pToString(obj){return Object.prototype.toString.call(obj)}function isView(arrbuf){if(isBuffer(arrbuf)){return false}if(typeof global.ArrayBuffer!=="function"){return false}if(typeof ArrayBuffer.isView==="function"){return ArrayBuffer.isView(arrbuf)}if(!arrbuf){return false}if(arrbuf instanceof DataView){return true}if(arrbuf.buffer&&arrbuf.buffer instanceof ArrayBuffer){return true}return false}var assert=module.exports=ok;var regex=/\s*function\s+([^\(\s]*)\s*/;function getName(func){if(!util.isFunction(func)){return}if(functionsHaveNames){return func.name}var str=func.toString();var match=str.match(regex);return match&&match[1]}assert.AssertionError=function AssertionError(options){this.name="AssertionError";this.actual=options.actual;this.expected=options.expected;this.operator=options.operator;if(options.message){this.message=options.message;this.generatedMessage=false}else{this.message=getMessage(this);this.generatedMessage=true}var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace){Error.captureStackTrace(this,stackStartFunction)}else{var err=new Error;if(err.stack){var out=err.stack;var fn_name=getName(stackStartFunction);var idx=out.indexOf("\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}};util.inherits(assert.AssertionError,Error);function truncate(s,n){if(typeof s==="string"){return s.length<n?s:s.slice(0,n)}else{return s}}function inspect(something){if(functionsHaveNames||!util.isFunction(something)){return util.inspect(something)}var rawname=getName(something);var name=rawname?": "+rawname:"";return"[Function"+name+"]"}function getMessage(self){return truncate(inspect(self.actual),128)+" "+self.operator+" "+truncate(inspect(self.expected),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}assert.fail=fail;function ok(value,message){if(!value)fail(value,true,message,"==",assert.ok)}assert.ok=ok;assert.equal=function equal(actual,expected,message){if(actual!=expected)fail(actual,expected,message,"==",assert.equal)};assert.notEqual=function notEqual(actual,expected,message){if(actual==expected){fail(actual,expected,message,"!=",assert.notEqual)}};assert.deepEqual=function deepEqual(actual,expected,message){if(!_deepEqual(actual,expected,false)){fail(actual,expected,message,"deepEqual",assert.deepEqual)}};assert.deepStrictEqual=function deepStrictEqual(actual,expected,message){if(!_deepEqual(actual,expected,true)){fail(actual,expected,message,"deepStrictEqual",assert.deepStrictEqual)}};function _deepEqual(actual,expected,strict,memos){if(actual===expected){return true}else if(isBuffer(actual)&&isBuffer(expected)){return compare(actual,expected)===0}else if(util.isDate(actual)&&util.isDate(expected)){return actual.getTime()===expected.getTime()}else if(util.isRegExp(actual)&&util.isRegExp(expected)){return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase}else if((actual===null||typeof actual!=="object")&&(expected===null||typeof expected!=="object")){return strict?actual===expected:actual==expected}else if(isView(actual)&&isView(expected)&&pToString(actual)===pToString(expected)&&!(actual instanceof Float32Array||actual instanceof Float64Array)){return compare(new Uint8Array(actual.buffer),new Uint8Array(expected.buffer))===0}else if(isBuffer(actual)!==isBuffer(expected)){return false}else{memos=memos||{actual:[],expected:[]};var actualIndex=memos.actual.indexOf(actual);if(actualIndex!==-1){if(actualIndex===memos.expected.indexOf(expected)){return true}}memos.actual.push(actual);memos.expected.push(expected);return objEquiv(actual,expected,strict,memos)}}function isArguments(object){return Object.prototype.toString.call(object)=="[object Arguments]"}function objEquiv(a,b,strict,actualVisitedObjects){if(a===null||a===undefined||b===null||b===undefined)return false;if(util.isPrimitive(a)||util.isPrimitive(b))return a===b;if(strict&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return false;var aIsArgs=isArguments(a);var bIsArgs=isArguments(b);if(aIsArgs&&!bIsArgs||!aIsArgs&&bIsArgs)return false;if(aIsArgs){a=pSlice.call(a);b=pSlice.call(b);return _deepEqual(a,b,strict)}var ka=objectKeys(a);var kb=objectKeys(b);var key,i;if(ka.length!==kb.length)return false;ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!==kb[i])return false}for(i=ka.length-1;i>=0;i--){key=ka[i];if(!_deepEqual(a[key],b[key],strict,actualVisitedObjects))return false}return true}assert.notDeepEqual=function notDeepEqual(actual,expected,message){if(_deepEqual(actual,expected,false)){fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)}};assert.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(actual,expected,message){if(_deepEqual(actual,expected,true)){fail(actual,expected,message,"notDeepStrictEqual",notDeepStrictEqual)}}assert.strictEqual=function strictEqual(actual,expected,message){if(actual!==expected){fail(actual,expected,message,"===",assert.strictEqual)}};assert.notStrictEqual=function notStrictEqual(actual,expected,message){if(actual===expected){fail(actual,expected,message,"!==",assert.notStrictEqual)}};function expectedException(actual,expected){if(!actual||!expected){return false}if(Object.prototype.toString.call(expected)=="[object RegExp]"){return expected.test(actual)}try{if(actual instanceof expected){return true}}catch(e){}if(Error.isPrototypeOf(expected)){return false}return expected.call({},actual)===true}function _tryBlock(block){var error;try{block()}catch(e){error=e}return error}function _throws(shouldThrow,block,expected,message){var actual;if(typeof block!=="function"){throw new TypeError('"block" argument must be a function')}if(typeof expected==="string"){message=expected;expected=null}actual=_tryBlock(block);message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:".");if(shouldThrow&&!actual){fail(actual,expected,"Missing expected exception"+message)}var userProvidedMessage=typeof message==="string";var isUnwantedException=!shouldThrow&&util.isError(actual);var isUnexpectedException=!shouldThrow&&actual&&!expected;if(isUnwantedException&&userProvidedMessage&&expectedException(actual,expected)||isUnexpectedException){fail(actual,expected,"Got unwanted exception"+message)}if(shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual){throw actual}}assert.throws=function(block,error,message){_throws(true,block,error,message)};assert.doesNotThrow=function(block,error,message){_throws(false,block,error,message)};assert.ifError=function(err){if(err)throw err};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj){if(hasOwn.call(obj,key))keys.push(key)}return keys}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"util/":26}],2:[function(require,module,exports){var document=require("global/document");var hyperx=require("hyperx");var onload=require("on-load");var SVGNS="http://www.w3.org/2000/svg";var XLINKNS="http://www.w3.org/1999/xlink";var BOOL_PROPS={autofocus:1,checked:1,defaultchecked:1,disabled:1,formnovalidate:1,indeterminate:1,readonly:1,required:1,selected:1,willvalidate:1};var COMMENT_TAG="!--";var SVG_TAGS=["svg","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"];function belCreateElement(tag,props,children){var el;if(SVG_TAGS.indexOf(tag)!==-1){props.namespace=SVGNS}var ns=false;if(props.namespace){ns=props.namespace;delete props.namespace}if(ns){el=document.createElementNS(ns,tag)}else if(tag===COMMENT_TAG){return document.createComment(props.comment)}else{el=document.createElement(tag)}if(props.onload||props.onunload){var load=props.onload||function(){};var unload=props.onunload||function(){};onload(el,function belOnload(){load(el)},function belOnunload(){unload(el)},belCreateElement.caller.caller.caller);delete props.onload;delete props.onunload}for(var p in props){if(props.hasOwnProperty(p)){var key=p.toLowerCase();var val=props[p];if(key==="classname"){key="class";p="class"}if(p==="htmlFor"){p="for"}if(BOOL_PROPS[key]){if(val==="true")val=key;else if(val==="false")continue}if(key.slice(0,2)==="on"){el[p]=val}else{if(ns){if(p==="xlink:href"){el.setAttributeNS(XLINKNS,p,val)}else if(/^xmlns($|:)/i.test(p)){}else{el.setAttributeNS(null,p,val)}}else{el.setAttribute(p,val)}}}}function appendChild(childs){if(!Array.isArray(childs))return;for(var i=0;i<childs.length;i++){var node=childs[i];if(Array.isArray(node)){appendChild(node);continue}if(typeof node==="number"||typeof node==="boolean"||typeof node==="function"||node instanceof Date||node instanceof RegExp){node=node.toString()}if(typeof node==="string"){if(el.lastChild&&el.lastChild.nodeName==="#text"){el.lastChild.nodeValue+=node;continue}node=document.createTextNode(node)}if(node&&node.nodeType){el.appendChild(node)}}}appendChild(children);return el}module.exports=hyperx(belCreateElement,{comments:true});module.exports.default=module.exports;module.exports.createElement=belCreateElement},{"global/document":8,hyperx:11,"on-load":22}],3:[function(require,module,exports){},{}],4:[function(require,module,exports){arguments[4][3][0].apply(exports,arguments)},{dup:3}],5:[function(require,module,exports){module.exports=require("bel")},{bel:2}],6:[function(require,module,exports){var documentReady=require("document-ready");var nanohistory=require("nanohistory");var nanorouter=require("nanorouter");var nanomount=require("nanomount");var nanomorph=require("nanomorph");var nanohref=require("nanohref");var nanoraf=require("nanoraf");var nanobus=require("nanobus");var assert=require("assert");module.exports=Choo;function Choo(opts){opts=opts||{};var routerOpts={default:opts.defaultRoute||"/404",curry:true};var timingEnabled=opts.timing===undefined?true:opts.timing;var hasWindow=typeof window!=="undefined";var hasPerformance=hasWindow&&window.performance&&window.performance.mark;var router=nanorouter(routerOpts);var bus=nanobus();var rerender=null;var tree=null;var state={};return{toString:toString,use:register,mount:mount,router:router,route:route,start:start};function route(route,handler){router.on(route,function(params){return function(){state.params=params;return handler(state,emit)}})}function register(cb){cb(state,bus)}function start(){if(opts.history!==false){nanohistory(function(href){bus.emit("pushState")});bus.prependListener("pushState",updateHistory.bind(null,"push"));bus.prependListener("replaceState",updateHistory.bind(null,"replace"));if(opts.href!==false){nanohref(function(location){var href=location.href;var currHref=window.location.href;if(href===currHref)return;bus.emit("pushState",href)})}}function updateHistory(mode,href){if(href)window.history[mode+"State"]({},null,href);bus.emit("render");setTimeout(function(){scrollIntoView()},0)}rerender=nanoraf(function(){if(hasPerformance&&timingEnabled){window.performance.mark("choo:renderStart")}var newTree=router(createLocation());tree=nanomorph(tree,newTree);assert.notEqual(tree,newTree,"choo.start: a different node type was returned as the root node on a rerender. Make sure that the root node is always the same type to prevent the application from being unmounted.");if(hasPerformance&&timingEnabled){window.performance.mark("choo:renderEnd");window.performance.measure("choo:render","choo:renderStart","choo:renderEnd")}});bus.prependListener("render",rerender);documentReady(function(){bus.emit("DOMContentLoaded")});tree=router(createLocation());return tree}function emit(eventName,data){bus.emit(eventName,data)}function mount(selector){var newTree=start();documentReady(function(){var root=document.querySelector(selector);assert.ok(root,"choo.mount: could not query selector: "+selector);nanomount(root,newTree);tree=root})}function toString(location,_state){state=_state||{};var html=router(location);return html.toString()}}function scrollIntoView(){var hash=window.location.hash;if(hash){try{var el=document.querySelector(hash);if(el)el.scrollIntoView(true)}catch(e){}}}function createLocation(){var pathname=window.location.pathname.replace(/\/$/,"");var hash=window.location.hash.replace(/^#/,"/");return pathname+hash}},{assert:1,"document-ready":7,nanobus:12,nanohistory:13,nanohref:14,nanomorph:15,nanomount:18,nanoraf:19,nanorouter:20}],7:[function(require,module,exports){"";var assert=require("assert");module.exports=ready;function ready(callback){assert.notEqual(typeof document,"undefined","document-ready only runs in the browser");var state=document.readyState;if(state==="complete"||state==="interactive"){return setTimeout(callback,0)}document.addEventListener("DOMContentLoaded",function onLoad(){callback()})}},{assert:1}],8:[function(require,module,exports){(function(global){var topLevel=typeof global!=="undefined"?global:typeof window!=="undefined"?window:{};var minDoc=require("min-document");var doccy;if(typeof document!=="undefined"){doccy=document}else{doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"];if(!doccy){doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc}}module.exports=doccy}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"min-document":3}],9:[function(require,module,exports){(function(global){var win;if(typeof window!=="undefined"){win=window}else if(typeof global!=="undefined"){win=global}else if(typeof self!=="undefined"){win=self}else{win={}}module.exports=win}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],10:[function(require,module,exports){module.exports=attributeToProperty;var transform={class:"className",for:"htmlFor","http-equiv":"httpEquiv"};function attributeToProperty(h){return function(tagName,attrs,children){for(var attr in attrs){if(attr in transform){attrs[transform[attr]]=attrs[attr];delete attrs[attr]}}return h(tagName,attrs,children)}}},{}],11:[function(require,module,exports){var attrToProp=require("hyperscript-attribute-to-property");var VAR=0,TEXT=1,OPEN=2,CLOSE=3,ATTR=4;var ATTR_KEY=5,ATTR_KEY_W=6;var ATTR_VALUE_W=7,ATTR_VALUE=8;var ATTR_VALUE_SQ=9,ATTR_VALUE_DQ=10;var ATTR_EQ=11,ATTR_BREAK=12;var COMMENT=13;module.exports=function(h,opts){if(!opts)opts={};var concat=opts.concat||function(a,b){return String(a)+String(b)};if(opts.attrToProp!==false){h=attrToProp(h)}return function(strings){var state=TEXT,reg="";var arglen=arguments.length;var parts=[];for(var i=0;i<strings.length;i++){if(i<arglen-1){var arg=arguments[i+1];var p=parse(strings[i]);var xstate=state;if(xstate===ATTR_VALUE_DQ)xstate=ATTR_VALUE;if(xstate===ATTR_VALUE_SQ)xstate=ATTR_VALUE;if(xstate===ATTR_VALUE_W)xstate=ATTR_VALUE;if(xstate===ATTR)xstate=ATTR_KEY;p.push([VAR,xstate,arg]);parts.push.apply(parts,p)}else parts.push.apply(parts,parse(strings[i]))}var tree=[null,{},[]];var stack=[[tree,-1]];for(var i=0;i<parts.length;i++){var cur=stack[stack.length-1][0];var p=parts[i],s=p[0];if(s===OPEN&&/^\//.test(p[1])){var ix=stack[stack.length-1][1];if(stack.length>1){stack.pop();stack[stack.length-1][0][2][ix]=h(cur[0],cur[1],cur[2].length?cur[2]:undefined)}}else if(s===OPEN){var c=[p[1],{},[]];cur[2].push(c);stack.push([c,cur[2].length-1])}else if(s===ATTR_KEY||s===VAR&&p[1]===ATTR_KEY){var key="";var copyKey;for(;i<parts.length;i++){if(parts[i][0]===ATTR_KEY){key=concat(key,parts[i][1])}else if(parts[i][0]===VAR&&parts[i][1]===ATTR_KEY){if(typeof parts[i][2]==="object"&&!key){for(copyKey in parts[i][2]){if(parts[i][2].hasOwnProperty(copyKey)&&!cur[1][copyKey]){cur[1][copyKey]=parts[i][2][copyKey]}}}else{key=concat(key,parts[i][2])}}else break}if(parts[i][0]===ATTR_EQ)i++;var j=i;for(;i<parts.length;i++){if(parts[i][0]===ATTR_VALUE||parts[i][0]===ATTR_KEY){if(!cur[1][key])cur[1][key]=strfn(parts[i][1]);else cur[1][key]=concat(cur[1][key],parts[i][1])}else if(parts[i][0]===VAR&&(parts[i][1]===ATTR_VALUE||parts[i][1]===ATTR_KEY)){if(!cur[1][key])cur[1][key]=strfn(parts[i][2]);else cur[1][key]=concat(cur[1][key],parts[i][2])}else{if(key.length&&!cur[1][key]&&i===j&&(parts[i][0]===CLOSE||parts[i][0]===ATTR_BREAK)){cur[1][key]=key.toLowerCase()}break}}}else if(s===ATTR_KEY){cur[1][p[1]]=true}else if(s===VAR&&p[1]===ATTR_KEY){cur[1][p[2]]=true}else if(s===CLOSE){if(selfClosing(cur[0])&&stack.length){var ix=stack[stack.length-1][1];stack.pop();stack[stack.length-1][0][2][ix]=h(cur[0],cur[1],cur[2].length?cur[2]:undefined)}}else if(s===VAR&&p[1]===TEXT){if(p[2]===undefined||p[2]===null)p[2]="";else if(!p[2])p[2]=concat("",p[2]);if(Array.isArray(p[2][0])){cur[2].push.apply(cur[2],p[2])}else{cur[2].push(p[2])}}else if(s===TEXT){cur[2].push(p[1])}else if(s===ATTR_EQ||s===ATTR_BREAK){}else{throw new Error("unhandled: "+s)}}if(tree[2].length>1&&/^\s*$/.test(tree[2][0])){tree[2].shift()}if(tree[2].length>2||tree[2].length===2&&/\S/.test(tree[2][1])){throw new Error("multiple root elements must be wrapped in an enclosing tag")}if(Array.isArray(tree[2][0])&&typeof tree[2][0][0]==="string"&&Array.isArray(tree[2][0][2])){tree[2][0]=h(tree[2][0][0],tree[2][0][1],tree[2][0][2])}return tree[2][0];function parse(str){var res=[];if(state===ATTR_VALUE_W)state=ATTR;for(var i=0;i<str.length;i++){var c=str.charAt(i);if(state===TEXT&&c==="<"){if(reg.length)res.push([TEXT,reg]);reg="";state=OPEN}else if(c===">"&&!quot(state)&&state!==COMMENT){if(state===OPEN){res.push([OPEN,reg])}else if(state===ATTR_KEY){res.push([ATTR_KEY,reg])}else if(state===ATTR_VALUE&&reg.length){res.push([ATTR_VALUE,reg])}res.push([CLOSE]);reg="";state=TEXT}else if(state===COMMENT&&/-$/.test(reg)&&c==="-"){if(opts.comments){res.push([ATTR_VALUE,reg.substr(0,reg.length-1)],[CLOSE])}reg="";state=TEXT}else if(state===OPEN&&/^!--$/.test(reg)){if(opts.comments){res.push([OPEN,reg],[ATTR_KEY,"comment"],[ATTR_EQ])}reg=c;state=COMMENT}else if(state===TEXT||state===COMMENT){reg+=c}else if(state===OPEN&&/\s/.test(c)){res.push([OPEN,reg]);reg="";state=ATTR}else if(state===OPEN){reg+=c}else if(state===ATTR&&/[^\s"'=/]/.test(c)){state=ATTR_KEY;reg=c}else if(state===ATTR&&/\s/.test(c)){if(reg.length)res.push([ATTR_KEY,reg]);res.push([ATTR_BREAK])}else if(state===ATTR_KEY&&/\s/.test(c)){res.push([ATTR_KEY,reg]);reg="";state=ATTR_KEY_W}else if(state===ATTR_KEY&&c==="="){res.push([ATTR_KEY,reg],[ATTR_EQ]);reg="";state=ATTR_VALUE_W}else if(state===ATTR_KEY){reg+=c}else if((state===ATTR_KEY_W||state===ATTR)&&c==="="){res.push([ATTR_EQ]);state=ATTR_VALUE_W}else if((state===ATTR_KEY_W||state===ATTR)&&!/\s/.test(c)){res.push([ATTR_BREAK]);if(/[\w-]/.test(c)){reg+=c;state=ATTR_KEY}else state=ATTR}else if(state===ATTR_VALUE_W&&c==='"'){state=ATTR_VALUE_DQ}else if(state===ATTR_VALUE_W&&c==="'"){state=ATTR_VALUE_SQ}else if(state===ATTR_VALUE_DQ&&c==='"'){res.push([ATTR_VALUE,reg],[ATTR_BREAK]);reg="";state=ATTR}else if(state===ATTR_VALUE_SQ&&c==="'"){res.push([ATTR_VALUE,reg],[ATTR_BREAK]);reg="";state=ATTR}else if(state===ATTR_VALUE_W&&!/\s/.test(c)){state=ATTR_VALUE;i--}else if(state===ATTR_VALUE&&/\s/.test(c)){res.push([ATTR_VALUE,reg],[ATTR_BREAK]);reg="";state=ATTR}else if(state===ATTR_VALUE||state===ATTR_VALUE_SQ||state===ATTR_VALUE_DQ){reg+=c}}if(state===TEXT&&reg.length){res.push([TEXT,reg]);reg=""}else if(state===ATTR_VALUE&&reg.length){res.push([ATTR_VALUE,reg]);reg=""}else if(state===ATTR_VALUE_DQ&&reg.length){res.push([ATTR_VALUE,reg]);reg=""}else if(state===ATTR_VALUE_SQ&&reg.length){res.push([ATTR_VALUE,reg]);reg=""}else if(state===ATTR_KEY){res.push([ATTR_KEY,reg]);reg=""}return res}};function strfn(x){if(typeof x==="function")return x;else if(typeof x==="string")return x;else if(x&&typeof x==="object")return x;else return concat("",x)}};function quot(state){return state===ATTR_VALUE_SQ||state===ATTR_VALUE_DQ}var hasOwn=Object.prototype.hasOwnProperty;function has(obj,key){return hasOwn.call(obj,key)}var closeRE=RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","!--","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9-ï¿¿_:-]+)*$");function selfClosing(tag){return closeRE.test(tag)}},{"hyperscript-attribute-to-property":10}],12:[function(require,module,exports){var nanotiming=require("nanotiming");var assert=require("assert");module.exports=Nanobus;function Nanobus(name){if(!(this instanceof Nanobus))return new Nanobus(name);this._name=name||"nanobus";this._starListeners=[];this._listeners={};this._timing=nanotiming(this._name)}Nanobus.prototype.emit=function(eventName,data){assert.equal(typeof eventName,"string","nanobus.emit: eventName should be type string");this._timing.start(eventName);var listeners=this._listeners[eventName];if(listeners&&listeners.length>0){this._emit(this._listeners[eventName],data)}if(this._starListeners.length>0){this._emit(this._starListeners,eventName,data)}this._timing.end(eventName);return this};Nanobus.prototype.on=Nanobus.prototype.addListener=function(eventName,listener){assert.equal(typeof eventName,"string","nanobus.on: eventName should be type string");assert.equal(typeof listener,"function","nanobus.on: listener should be type function");if(eventName==="*"){this._starListeners.push(listener)}else{if(!this._listeners[eventName])this._listeners[eventName]=[];this._listeners[eventName].push(listener)}return this};Nanobus.prototype.prependListener=function(eventName,listener){assert.equal(typeof eventName,"string","nanobus.prependListener: eventName should be type string");assert.equal(typeof listener,"function","nanobus.prependListener: listener should be type function");if(eventName==="*"){this._starListeners.unshift(listener)}else{if(!this._listeners[eventName])this._listeners[eventName]=[];this._listeners[eventName].unshift(listener)}return this};Nanobus.prototype.once=function(eventName,listener){assert.equal(typeof eventName,"string","nanobus.once: eventName should be type string");assert.equal(typeof listener,"function","nanobus.once: listener should be type function");var self=this;this.on(eventName,once);function once(){listener.apply(self,arguments);self.removeListener(eventName,once)}return this};Nanobus.prototype.prependOnceListener=function(eventName,listener){assert.equal(typeof eventName,"string","nanobus.prependOnceListener: eventName should be type string");assert.equal(typeof listener,"function","nanobus.prependOnceListener: listener should be type function");var self=this;this.prependListener(eventName,once);function once(){listener.apply(self,arguments);self.removeListener(eventName,once)}return this};Nanobus.prototype.removeListener=function(eventName,listener){assert.equal(typeof eventName,"string","nanobus.removeListener: eventName should be type string");assert.equal(typeof listener,"function","nanobus.removeListener: listener should be type function");if(eventName==="*"){this._starListeners=this._starListeners.slice();return remove(this._starListeners,listener)}else{if(typeof this._listeners[eventName]!=="undefined"){this._listeners[eventName]=this._listeners[eventName].slice()}return remove(this._listeners[eventName],listener)}function remove(arr,listener){if(!arr)return;var index=arr.indexOf(listener);if(index!==-1){arr.splice(index,1);return true}}};Nanobus.prototype.removeAllListeners=function(eventName){if(eventName){if(eventName==="*"){this._starListeners=[]}else{this._listeners[eventName]=[]}}else{this._starListeners=[];this._listeners={}}return this};Nanobus.prototype.listeners=function(eventName){var listeners=eventName!=="*"?this._listeners[eventName]:this._starListeners;var ret=[];if(listeners){var ilength=listeners.length;for(var i=0;i<ilength;i++)ret.push(listeners[i])}return ret};Nanobus.prototype._emit=function(arr,eventName,data){if(typeof arr==="undefined")return;if(!data){data=eventName;eventName=null}var length=arr.length;for(var i=0;i<length;i++){var listener=arr[i];if(eventName)listener(eventName,data);else listener(data)}}},{assert:1,nanotiming:21}],13:[function(require,module,exports){var assert=require("assert");module.exports=history;function history(cb){assert.equal(typeof cb,"function","nanohistory: cb must be type function");window.onpopstate=function(){cb(document.location)}}},{assert:1}],14:[function(require,module,exports){var assert=require("assert");module.exports=href;var noRoutingAttrName="data-no-routing";function href(cb,root){assert.equal(typeof cb,"function","nanohref: cb must be type function");root=root||window.document;window.onclick=function(e){if(e.button&&e.button!==0||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)return;var node=function traverse(node){if(!node||node===root)return;if(node.localName!=="a")return traverse(node.parentNode);if(node.href===undefined)return traverse(node.parentNode);if(window.location.host!==node.host)return traverse(node.parentNode);return node}(e.target);if(!node)return;var isRoutingDisabled=node.hasAttribute(noRoutingAttrName);if(isRoutingDisabled)return;e.preventDefault();cb(node)}}},{assert:1}],15:[function(require,module,exports){var assert=require("assert");var morph=require("./lib/morph");var rootLabelRegex=/^data-onloadid/;var ELEMENT_NODE=1;module.exports=nanomorph;function nanomorph(oldTree,newTree){assert.equal(typeof oldTree,"object","nanomorph: oldTree should be an object");assert.equal(typeof newTree,"object","nanomorph: newTree should be an object");persistStatefulRoot(newTree,oldTree);var tree=walk(newTree,oldTree);return tree}function walk(newNode,oldNode){if(!oldNode){return newNode}else if(!newNode){return null}else if(newNode.isSameNode&&newNode.isSameNode(oldNode)){return oldNode}else if(newNode.tagName!==oldNode.tagName){return newNode}else{morph(newNode,oldNode);updateChildren(newNode,oldNode);return oldNode}}function updateChildren(newNode,oldNode){if(!newNode.childNodes||!oldNode.childNodes)return;var newLength=newNode.childNodes.length;var oldLength=oldNode.childNodes.length;var length=Math.max(oldLength,newLength);var iNew=0;var iOld=0;for(var i=0;i<length;i++,iNew++,iOld++){var newChildNode=newNode.childNodes[iNew];var oldChildNode=oldNode.childNodes[iOld];var retChildNode=walk(newChildNode,oldChildNode);if(!retChildNode){if(oldChildNode){oldNode.removeChild(oldChildNode);iOld--}}else if(!oldChildNode){if(retChildNode){oldNode.appendChild(retChildNode);iNew--}}else if(retChildNode!==oldChildNode){oldNode.replaceChild(retChildNode,oldChildNode);iNew--}}}function persistStatefulRoot(newNode,oldNode){if(!newNode||!oldNode||oldNode.nodeType!==ELEMENT_NODE||newNode.nodeType!==ELEMENT_NODE)return;var oldAttrs=oldNode.attributes;var attr,name;for(var i=0,len=oldAttrs.length;i<len;i++){attr=oldAttrs[i];name=attr.name;if(rootLabelRegex.test(name)){newNode.setAttribute(name,attr.value);break}}}},{"./lib/morph":17,assert:1}],16:[function(require,module,exports){module.exports=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onmouseenter","onmouseleave","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"]},{}],17:[function(require,module,exports){var events=require("./events");var eventsLength=events.length;var ELEMENT_NODE=1;var TEXT_NODE=3;var COMMENT_NODE=8;module.exports=morph;function morph(newNode,oldNode){var nodeType=newNode.nodeType;var nodeName=newNode.nodeName;if(nodeType===ELEMENT_NODE){copyAttrs(newNode,oldNode)}if(nodeType===TEXT_NODE||nodeType===COMMENT_NODE){oldNode.nodeValue=newNode.nodeValue}if(nodeName==="INPUT")updateInput(newNode,oldNode);else if(nodeName==="OPTION")updateOption(newNode,oldNode);else if(nodeName==="TEXTAREA")updateTextarea(newNode,oldNode);else if(nodeName==="SELECT")updateSelect(newNode,oldNode);copyEvents(newNode,oldNode)}function copyAttrs(newNode,oldNode){var oldAttrs=oldNode.attributes;var newAttrs=newNode.attributes;var attrNamespaceURI=null;var attrValue=null;var fromValue=null;var attrName=null;var attr=null;for(var i=newAttrs.length-1;i>=0;--i){attr=newAttrs[i];attrName=attr.name;attrNamespaceURI=attr.namespaceURI;attrValue=attr.value;if(attrNamespaceURI){attrName=attr.localName||attrName;fromValue=oldNode.getAttributeNS(attrNamespaceURI,attrName);if(fromValue!==attrValue){oldNode.setAttributeNS(attrNamespaceURI,attrName,attrValue)}}else{fromValue=oldNode.getAttribute(attrName);if(fromValue!==attrValue){if(attrValue==="null"||attrValue==="undefined"){oldNode.removeAttribute(attrName)}else{oldNode.setAttribute(attrName,attrValue)}}}}for(var j=oldAttrs.length-1;j>=0;--j){attr=oldAttrs[j];if(attr.specified!==false){attrName=attr.name;attrNamespaceURI=attr.namespaceURI;if(attrNamespaceURI){attrName=attr.localName||attrName;if(!newNode.hasAttributeNS(attrNamespaceURI,attrName)){oldNode.removeAttributeNS(attrNamespaceURI,attrName)}}else{if(!newNode.hasAttributeNS(null,attrName)){oldNode.removeAttribute(attrName)}}}}}function copyEvents(newNode,oldNode){for(var i=0;i<eventsLength;i++){var ev=events[i];if(newNode[ev]){oldNode[ev]=newNode[ev]}else if(oldNode[ev]){oldNode[ev]=undefined}}}function updateOption(newNode,oldNode){updateAttribute(newNode,oldNode,"selected")}function updateInput(newNode,oldNode){var newValue=newNode.value;var oldValue=oldNode.value;updateAttribute(newNode,oldNode,"checked");updateAttribute(newNode,oldNode,"disabled");if(!newNode.hasAttributeNS(null,"value")||newValue==="null"){oldNode.value="";oldNode.removeAttribute("value")}else if(newValue!==oldValue){oldNode.setAttribute("value",newValue);oldNode.value=newValue}else if(oldNode.type==="range"){oldNode.value=newValue}}function updateTextarea(newNode,oldNode){var newValue=newNode.value;if(newValue!==oldNode.value){oldNode.value=newValue}if(oldNode.firstChild){if(newValue===""&&oldNode.firstChild.nodeValue===oldNode.placeholder){return}oldNode.firstChild.nodeValue=newValue}}function updateSelect(newNode,oldNode){if(!oldNode.hasAttributeNS(null,"multiple")){var i=0;var curChild=oldNode.firstChild;while(curChild){var nodeName=curChild.nodeName;if(nodeName&&nodeName.toUpperCase()==="OPTION"){if(curChild.hasAttributeNS(null,"selected"))break;i++}curChild=curChild.nextSibling}newNode.selectedIndex=i}}function updateAttribute(newNode,oldNode,name){if(newNode[name]!==oldNode[name]){oldNode[name]=newNode[name];if(newNode[name]){oldNode.setAttribute(name,"")}else{oldNode.removeAttribute(name,"")}}}},{"./events":16}],18:[function(require,module,exports){var nanomorph=require("nanomorph");var assert=require("assert");module.exports=nanomount;function nanomount(target,newTree){if(target.nodeName==="BODY"){var children=target.childNodes;for(var i=0;i<children.length;i++){if(children[i].nodeName==="SCRIPT"){newTree.appendChild(children[i].cloneNode(true))}}}var tree=nanomorph(target,newTree);assert.equal(tree,target,"nanomount: The target node "+tree.outerHTML.nodeName+" is not the same type as the new node "+target.outerHTML.nodeName+".")}},{assert:1,nanomorph:15}],19:[function(require,module,exports){"";var assert=require("assert");module.exports=nanoraf;function nanoraf(render,raf){assert.equal(typeof render,"function","nanoraf: render should be a function");assert.ok(typeof raf==="function"||typeof raf==="undefined","nanoraf: raf should be a function or undefined");if(!raf)raf=window.requestAnimationFrame;var redrawScheduled=false;var args=null;return function frame(){if(args===null&&!redrawScheduled){redrawScheduled=true;raf(function redraw(){redrawScheduled=false;var length=args.length;var _args=new Array(length);for(var i=0;i<length;i++)_args[i]=args[i];render.apply(render,_args);args=null})}args=arguments}}},{assert:1}],20:[function(require,module,exports){var wayfarer=require("wayfarer");var isLocalFile=/file:\/\//.test(typeof window==="object"&&window.location&&window.location.origin);var electron="^(file://|/)(.*.html?/?)?";var protocol="^(http(s)?(://))?(www.)?";var domain="[a-zA-Z0-9-_.]+(:[0-9]{1,5})?(/{1})?";var qs="[?].*$";var stripElectron=new RegExp(electron);var prefix=new RegExp(protocol+domain);var normalize=new RegExp("#");var suffix=new RegExp(qs);module.exports=Nanorouter;function Nanorouter(opts){opts=opts||{};var router=wayfarer(opts.default||"/404");var curry=opts.curry||false;var prevCallback=null;var prevRoute=null;emit.router=router;emit.on=on;return emit;function on(routename,listener){routename=routename.replace(/^[#/]/,"");router.on(routename,listener)}function emit(route){if(!curry){return router(route)}else{route=pathname(route,isLocalFile);if(route===prevRoute){return prevCallback()}else{prevRoute=route;prevCallback=router(route);return prevCallback()}}}}function pathname(route,isElectron){if(isElectron)route=route.replace(stripElectron,"");else route=route.replace(prefix,"");return route.replace(suffix,"").replace(normalize,"/")}},{wayfarer:27}],21:[function(require,module,exports){var assert=require("assert");module.exports=Nanotiming;function Nanotiming(name){if(!(this instanceof Nanotiming))return new Nanotiming(name);assert.equal(typeof name,"string","Nanotiming: name should be type string");this._name=name;this._enabled=typeof window!=="undefined"&&window.performance&&window.performance.mark}Nanotiming.prototype.start=function(partial){if(!this._enabled)return;var name=partial?this._name+":"+partial:this._name;window.performance.mark(name+"-start")};Nanotiming.prototype.end=function(partial){if(!this._enabled)return;var name=partial?this._name+":"+partial:this._name;window.performance.mark(name+"-end");window.performance.measure(name,name+"-start",name+"-end")}},{assert:1}],22:[function(require,module,exports){var document=require("global/document");var window=require("global/window");var watch=Object.create(null);var KEY_ID="onloadid"+(new Date%9e6).toString(36);var KEY_ATTR="data-"+KEY_ID;var INDEX=0;if(window&&window.MutationObserver){var observer=new MutationObserver(function(mutations){if(Object.keys(watch).length<1)return;for(var i=0;i<mutations.length;i++){if(mutations[i].attributeName===KEY_ATTR){eachAttr(mutations[i],turnon,turnoff);continue}eachMutation(mutations[i].removedNodes,turnoff);eachMutation(mutations[i].addedNodes,turnon)}});observer.observe(document.body,{childList:true,subtree:true,attributes:true,attributeOldValue:true,attributeFilter:[KEY_ATTR]})}module.exports=function onload(el,on,off,caller){on=on||function(){};off=off||function(){};el.setAttribute(KEY_ATTR,"o"+INDEX);watch["o"+INDEX]=[on,off,0,caller||onload.caller];INDEX+=1;return el};function turnon(index,el){if(watch[index][0]&&watch[index][2]===0){watch[index][0](el);watch[index][2]=1}}function turnoff(index,el){if(watch[index][1]&&watch[index][2]===1){watch[index][1](el);watch[index][2]=0}}function eachAttr(mutation,on,off){var newValue=mutation.target.getAttribute(KEY_ATTR);if(sameOrigin(mutation.oldValue,newValue)){watch[newValue]=watch[mutation.oldValue];return}if(watch[mutation.oldValue]){off(mutation.oldValue,mutation.target)}if(watch[newValue]){on(newValue,mutation.target)}}function sameOrigin(oldValue,newValue){if(!oldValue||!newValue)return false;return watch[oldValue][3]===watch[newValue][3]}function eachMutation(nodes,fn){var keys=Object.keys(watch);for(var i=0;i<nodes.length;i++){if(nodes[i]&&nodes[i].getAttribute&&nodes[i].getAttribute(KEY_ATTR)){var onloadid=nodes[i].getAttribute(KEY_ATTR);keys.forEach(function(k){if(onloadid===k){fn(k,nodes[i])}})}if(nodes[i].childNodes.length>0){eachMutation(nodes[i].childNodes,fn)}}}},{"global/document":8,"global/window":9}],23:[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],24:[function(require,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],25:[function(require,module,exports){module.exports=function isBuffer(arg){return arg&&typeof arg==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.readUInt8==="function"}},{}],26:[function(require,module,exports){(function(process,global){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};exports.deprecate=function(fn,msg){if(isUndefined(global.process)){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}if(process.noDeprecation===true){return fn}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnviron;exports.debuglog=function(set){if(isUndefined(debugEnviron))debugEnviron=process.env.NODE_DEBUG||"";set=set.toUpperCase();if(!debugs[set]){if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){exports._extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true});return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}});return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2)}else{str="\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=require("./support/isBuffer");function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=require("inherits");exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":25,_process:23,inherits:24}],27:[function(require,module,exports){var assert=require("assert");var trie=require("./trie");module.exports=Wayfarer;function Wayfarer(dft){if(!(this instanceof Wayfarer))return new Wayfarer(dft);var _default=(dft||"").replace(/^\//,"");var _trie=trie();emit._trie=_trie;emit.emit=emit;emit.on=on;emit._wayfarer=true;return emit;function on(route,cb){assert.equal(typeof route,"string");assert.equal(typeof cb,"function");route=route||"/";cb.route=route;if(cb&&cb._wayfarer&&cb._trie){_trie.mount(route,cb._trie.trie)}else{var node=_trie.create(route);node.cb=cb}return emit}function emit(route){assert.notEqual(route,undefined,"'route' must be defined");var args=new Array(arguments.length);for(var i=1;i<args.length;i++){args[i]=arguments[i]}var node=_trie.match(route);if(node&&node.cb){args[0]=node.params;var cb=node.cb;return cb.apply(cb,args)}var dft=_trie.match(_default);if(dft&&dft.cb){args[0]=dft.params;var dftcb=dft.cb;return dftcb.apply(dftcb,args)}throw new Error("route '"+route+"' did not match")}}},{"./trie":28,assert:1}],28:[function(require,module,exports){var mutate=require("xtend/mutable");var assert=require("assert");var xtend=require("xtend");module.exports=Trie;function Trie(){if(!(this instanceof Trie))return new Trie;this.trie={nodes:{}}}Trie.prototype.create=function(route){assert.equal(typeof route,"string","route should be a string");var routes=route.replace(/^\//,"").split("/");function createNode(index,trie){var thisRoute=routes.hasOwnProperty(index)&&routes[index];if(thisRoute===false)return trie;var node=null;if(/^:|^\*/.test(thisRoute)){if(!trie.nodes.hasOwnProperty("$$")){node={nodes:{}};trie.nodes["$$"]=node}else{node=trie.nodes["$$"]}if(thisRoute[0]==="*"){trie.wildcard=true}trie.name=thisRoute.replace(/^:|^\*/,"")}else if(!trie.nodes.hasOwnProperty(thisRoute)){node={nodes:{}};trie.nodes[thisRoute]=node}else{node=trie.nodes[thisRoute]}return createNode(index+1,node)}return createNode(0,this.trie)};Trie.prototype.match=function(route){assert.equal(typeof route,"string","route should be a string");var routes=route.replace(/^\//,"").split("/");var params={};function search(index,trie){if(trie===undefined)return undefined;var thisRoute=routes[index];if(thisRoute===undefined)return trie;if(trie.nodes.hasOwnProperty(thisRoute)){return search(index+1,trie.nodes[thisRoute])}else if(trie.wildcard){try{params["wildcard"]=decodeURIComponent(routes.slice(index).join("/"))}catch(e){return search(index,undefined)}return trie.nodes["$$"]}else if(trie.name){try{params[trie.name]=decodeURIComponent(thisRoute)}catch(e){console.log("must throw");return search(index,undefined)}return search(index+1,trie.nodes["$$"])}else{return search(index+1)}}var node=search(0,this.trie);if(!node)return undefined;node=xtend(node);node.params=params;return node};Trie.prototype.mount=function(route,trie){assert.equal(typeof route,"string","route should be a string");assert.equal(typeof trie,"object","trie should be a object");var split=route.replace(/^\//,"").split("/");var node=null;var key=null;if(split.length===1){key=split[0];node=this.create(key)}else{var headArr=split.splice(0,split.length-1);var head=headArr.join("/");key=split[0];node=this.create(head)}mutate(node.nodes,trie.nodes);if(trie.name)node.name=trie.name;if(node.nodes[""]){Object.keys(node.nodes[""]).forEach(function(key){if(key==="nodes")return;node[key]=node.nodes[""][key]});mutate(node.nodes,node.nodes[""].nodes);delete node.nodes[""].nodes}}},{assert:1,xtend:29,"xtend/mutable":30}],29:[function(require,module,exports){module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;function extend(){var target={};for(var i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target}},{}],30:[function(require,module,exports){module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;function extend(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target}},{}],31:[function(require,module,exports){module.exports="+++++ +++++             initialize counter (cell #0) to 10\n[                       use loop to set 70/100/30/10\n    > +++++ ++              add  7 to cell #1\n    > +++++ +++++           add 10 to cell #2\n    > +++                   add  3 to cell #3\n    > +                     add  1 to cell #4\n<<<< -                  decrement counter (cell #0)\n]\n> ++ .                  print 'H'\n> + .                   print 'e'\n+++++ ++ .              print 'l'\n.                       print 'l'\n+++ .                   print 'o'\n> ++ .                  print ' '\n<< +++++ +++++ +++++ .  print 'W'\n> .                     print 'o'\n+++ .                   print 'r'\n----- - .               print 'l'\n----- --- .             print 'd'\n> + .                   print '!'\n> .                     print '\\n'\n"},{}],32:[function(require,module,exports){(function(process){"";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var inBrowser=typeof window!=="undefined";var inputPrompt="input: ";var nodeWrite=function nodeWrite(str){return process.stdout.write(str)};var browserWrite=function browserWrite(str){return console.log(str)};var nodeRead=function nodeRead(cb){var readline=require("readline");var rl=readline.createInterface({input:process.stdin,output:process.stdout});rl.question(inputPrompt,function(input){rl.close();cb(input)})};var browserRead=function browserRead(cb){return cb(window.prompt(inputPrompt)||String.fromCharCode(0))};var read=function read(cb){return inBrowser?browserRead(cb):nodeRead(cb)};var write=function write(str){return inBrowser?browserWrite(str):nodeWrite(str)};var isset=function isset(val){return val!==null&&val!==undefined};var call=function call(fn){return fn()};var pass=function pass(x){return x};var exec=function exec(prog,userHooks){var cmds=prog.split("");var len=cmds.length;var steps=0;var cmd;var jumps=[];var memory=[];var pointer=0;var idx=0;var curr=function curr(){return memory[pointer]||0};var save=function save(val){memory[pointer]=val};var canDebug=function canDebug(cmd){return!!process.env.DEBUG&&"-+<>[],.".indexOf(cmd)!==-1};var dump=function dump(cmd){return console.log("[%s:%s]\t\tcmd: %s\t\tcurr: %s[%s]\t\tmem: %s",steps,idx,cmd,pointer,curr(),JSON.stringify(memory))};var findEnd=function findEnd(idx){var stack=1;while(cmds[idx]){switch(cmds[idx]){case"[":stack++;break;case"]":stack--;break}if(!stack){break}else{idx++}}return idx};var internalUpdate=function internalUpdate(state){memory=isset(state.memory)?state.memory:memory;pointer=isset(state.pointer)?state.pointer:pointer;idx=isset(state.idx)?state.idx:idx};var internalTick=function internalTick(){if(canDebug(cmd)){dump(cmd)}steps++;idx++;if(idx<len&&typeof cmds[idx]==="string"){process.nextTick(run,0)}else{hooks.done()}};var tick=function tick(){return hooks.tick(internalTick,internalUpdate,{pointer:pointer,idx:idx,steps:steps,memory:memory.slice(0)})};var hooks=Object.assign({read:read,write:write,tick:call,done:pass},userHooks);var ops={"+":function _(){return save(curr()===255?0:curr()+1)},"-":function _(){return save((curr()||256)-1)},"<":function _(){return--pointer},">":function _(){return++pointer},".":function _(){return hooks.write(String.fromCharCode(curr()))},"[":function _(){if(curr()===0){idx=findEnd(idx+1)}else{jumps.push(idx)}},"]":function _(){if(curr()!==0){idx=jumps[jumps.length-1]}else{jumps.pop()}}};var run=function run(){cmd=cmds[idx];if(cmd in ops){ops[cmd]();tick()}else if(cmd===","){hooks.read(function(input){save(input.charCodeAt(0));tick()})}else{tick()}};run()};var brainfuck=function brainfuck(_ref){var _ref2=_slicedToArray(_ref,1),prog=_ref2[0];return exec(prog)};if(!module.parent&&process.argv[2]){exec(require("fs").readFileSync(process.argv[2]).toString())}else if(inBrowser){module.exports=exec}else{module.exports={exec:exec,brainfuck:brainfuck}}}).call(this,require("_process"))},{_process:23,fs:4,readline:4}],33:[function(require,module,exports){(function(process){"";var _templateObject=_taggedTemplateLiteral(['\n    <section>\n      <div class="cf pa3 pa4-ns container">\n        <h1 class="mt0 f3 f2-m f1-l title fw1 baskerville">Brainfuck</h1>\n\n        <div class="editor-section fl w-100 w-50-ns">\n          <div class="lh-copy helvetica">\n            <p class="mt0">\n              ',", one\n              of the ",'\n              you\'ve probably heard of. Partly because of its minimal\n              instruction set but most likely because it has the word <span\n              class="i">fuck</span> in its name. That said this language\n              doesn\'t have to leave you thinking <span class="i">"wtf?"</span>.\n              My intention for building this Brainfuck debugger is to have a\n              tool for learning this language and do it in a visual way, where\n              you can see what your program is doing step by step.\n            </p>\n\n            <p>\n              <span class="dn di-ns">Besides</span>\n              <span class="di dn-m dn-l">Below</span>\n              this text you\'ll see buttons you can use to execute your program,\n              which can be done in continuation or one command at a time, and\n              as your program is running you can slide the range input field to\n              alter the speed at which the code runs.  Below those controls\n              you\'ll notice a table filled with 0\'s (at least before you run a\n              program), this is the internal memory.  And finally your code\n              editor, where you can set breakpoints by clicking on commands\n              that will halt your program\'s execution. Now for a quick\n              introduction to the language:\n            </p>\n\n            <ul class="pl4">\n              <li>\n                '," and ",' move the pointer to\n                the left and to the right. Keep an on the memory cells to the\n                right -- the cell that has a black background color is the\n                active cell and the one where increment, decrement, and loops\n                will act on or check.\n              </li>\n\n              <li class="pt2">\n                '," and ",' increment and\n                decrement the active cell. Note that incrementing above 255\n                will "wrap" the value back around to 0, and decrementing below\n                0 will take you to 255.\n              </li>\n\n              <li class="pt2">\n                '," and "," are the language's\n                only control flow operators. The code inside of the loop is ran\n                as long as that value of the active cell is not zero. Think of\n                it as a ",' loop.\n              </li>\n\n              <li class="pt2">\n                '," and "," are the io\n                functions.  A period will output the character associated with\n                the ",' in\n                the active cell (so if the active cell has a value of 97 and\n                you output its value, you should get an "a".)\n              </li>\n            </ul>\n\n            <p>\n              So play around with this tool. Start by running the sample code\n              or creating basic programs on your own and see for yourself how\n              with even the most basic control flow and altering commands you\n              can technically accomplish any task. If you\'re curious about the\n              code and the interpreter that are running on this page,\n              ',", and if\n              you'd like to learn more about Brainfuck and other really\n              interesting esoteric programming languages then I recommend\n              heading over to ",'.\n            </p>\n          </div>\n        </div>\n\n        <div class="editor-section fl w-100 w-50-ns pb4 pb2-ns">\n          <div class="lh-copy helvetica">\n            <p class="mt0">\n              Here\'s some information about your program: it is\n              '," bytes,\n              "," of which are valid\n              commands.  The interpreter is going to interpret the character at\n              index ",", which is\n              "," , and has taken\n              a total of "," steps so far.\n\n              ",'\n            </p>\n          </div>\n\n          <div class="relative mt2-ns mb3">\n            <span>\n              ',"\n              ","\n              ","\n              ","\n            </span>\n\n            <span>\n              ",'\n            </span>\n          </div>\n\n          <div title="Memory Cells" class="pb3">\n            ',"\n          </div>\n\n          ",'\n        </div>\n      </div>\n\n      <footer class="bt b--light-gray spectral pa3 pa4-ns mt4-ns mt1">\n        <div class="container">\n          <p class="lh-copy w-50-ns">\n            My name is ',", and I'm a\n            computer programmer living in Provo, Utah. Checkout my\n            "," and ",", and if you'd like\n            to contact me just ",".\n          </p>\n        </div>\n      </footer>\n    </section>\n  "],['\n    <section>\n      <div class="cf pa3 pa4-ns container">\n        <h1 class="mt0 f3 f2-m f1-l title fw1 baskerville">Brainfuck</h1>\n\n        <div class="editor-section fl w-100 w-50-ns">\n          <div class="lh-copy helvetica">\n            <p class="mt0">\n              ',", one\n              of the ",'\n              you\'ve probably heard of. Partly because of its minimal\n              instruction set but most likely because it has the word <span\n              class="i">fuck</span> in its name. That said this language\n              doesn\'t have to leave you thinking <span class="i">"wtf?"</span>.\n              My intention for building this Brainfuck debugger is to have a\n              tool for learning this language and do it in a visual way, where\n              you can see what your program is doing step by step.\n            </p>\n\n            <p>\n              <span class="dn di-ns">Besides</span>\n              <span class="di dn-m dn-l">Below</span>\n              this text you\'ll see buttons you can use to execute your program,\n              which can be done in continuation or one command at a time, and\n              as your program is running you can slide the range input field to\n              alter the speed at which the code runs.  Below those controls\n              you\'ll notice a table filled with 0\'s (at least before you run a\n              program), this is the internal memory.  And finally your code\n              editor, where you can set breakpoints by clicking on commands\n              that will halt your program\'s execution. Now for a quick\n              introduction to the language:\n            </p>\n\n            <ul class="pl4">\n              <li>\n                '," and ",' move the pointer to\n                the left and to the right. Keep an on the memory cells to the\n                right -- the cell that has a black background color is the\n                active cell and the one where increment, decrement, and loops\n                will act on or check.\n              </li>\n\n              <li class="pt2">\n                '," and ",' increment and\n                decrement the active cell. Note that incrementing above 255\n                will "wrap" the value back around to 0, and decrementing below\n                0 will take you to 255.\n              </li>\n\n              <li class="pt2">\n                '," and "," are the language's\n                only control flow operators. The code inside of the loop is ran\n                as long as that value of the active cell is not zero. Think of\n                it as a ",' loop.\n              </li>\n\n              <li class="pt2">\n                '," and "," are the io\n                functions.  A period will output the character associated with\n                the ",' in\n                the active cell (so if the active cell has a value of 97 and\n                you output its value, you should get an "a".)\n              </li>\n            </ul>\n\n            <p>\n              So play around with this tool. Start by running the sample code\n              or creating basic programs on your own and see for yourself how\n              with even the most basic control flow and altering commands you\n              can technically accomplish any task. If you\'re curious about the\n              code and the interpreter that are running on this page,\n              ',", and if\n              you'd like to learn more about Brainfuck and other really\n              interesting esoteric programming languages then I recommend\n              heading over to ",'.\n            </p>\n          </div>\n        </div>\n\n        <div class="editor-section fl w-100 w-50-ns pb4 pb2-ns">\n          <div class="lh-copy helvetica">\n            <p class="mt0">\n              Here\'s some information about your program: it is\n              '," bytes,\n              "," of which are valid\n              commands.  The interpreter is going to interpret the character at\n              index ",", which is\n              "," , and has taken\n              a total of "," steps so far.\n\n              ",'\n            </p>\n          </div>\n\n          <div class="relative mt2-ns mb3">\n            <span>\n              ',"\n              ","\n              ","\n              ","\n            </span>\n\n            <span>\n              ",'\n            </span>\n          </div>\n\n          <div title="Memory Cells" class="pb3">\n            ',"\n          </div>\n\n          ",'\n        </div>\n      </div>\n\n      <footer class="bt b--light-gray spectral pa3 pa4-ns mt4-ns mt1">\n        <div class="container">\n          <p class="lh-copy w-50-ns">\n            My name is ',", and I'm a\n            computer programmer living in Provo, Utah. Checkout my\n            "," and ",", and if you'd like\n            to contact me just ",".\n          </p>\n        </div>\n      </footer>\n    </section>\n  "]),_templateObject2=_taggedTemplateLiteral(["<span>The program has had no output yet.</span>"],["<span>The program has had no output yet.</span>"]),_templateObject3=_taggedTemplateLiteral(["<span>\n                         <span>This is the output of your program:</span>\n                         ","\n                       </span>"],["<span>\n                         <span>This is the output of your program:</span>\n                         ","\n                       </span>"]),_templateObject4=_taggedTemplateLiteral(['<div class="cellrow">\n                ',"\n              </div>"],['<div class="cellrow">\n                ',"\n              </div>"]),_templateObject5=_taggedTemplateLiteral(['\n                    <div class="memcell ','">\n                      <span>',"</span>\n                    </div>"],['\n                    <div class="memcell ','">\n                      <span>',"</span>\n                    </div>"]),_templateObject6=_taggedTemplateLiteral(["<input value=",' class="delay" type="range"\n    onclick=',"\n    onchange="," />"],["<input value=",' class="delay" type="range"\n    onclick=',"\n    onchange="," />"]),_templateObject7=_taggedTemplateLiteral(['\n    <pre><code\n      contenteditable="true"\n      class="editor language-brainfuck"\n      onload=',"\n      oninput=","\n    >","</code></pre>"],['\n    <pre><code\n      contenteditable="true"\n      class="editor language-brainfuck"\n      onload=',"\n      oninput=","\n    >","</code></pre>"]),_templateObject8=_taggedTemplateLiteral(['<a\n    class="link ',' dim"\n    onclick="window.location.href = \'','\'"\n    href="','">',"</a>"],['<a\n    class="link ',' dim"\n    onclick="window.location.href = \'','\'"\n    href="','">',"</a>"]),_templateObject9=_taggedTemplateLiteral(['<a\n    target="','"\n    class="link ',' dim"\n    href="','">',"</a>"],['<a\n    target="','"\n    class="link ',' dim"\n    href="','">',"</a>"]),_templateObject10=_taggedTemplateLiteral(['<code class="f6 ph1 tc bg-light-gray word-wrap">',"</code>"],['<code class="f6 ph1 tc bg-light-gray word-wrap">',"</code>"]),_templateObject11=_taggedTemplateLiteral(["<button ",' class="',' f6 link dim ba ph3 pv2 dib black">\n    ',"\n  </button>"],["<button ",' class="',' f6 link dim ba ph3 pv2 dib black">\n    ',"\n  </button>"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var CLASS_SELECTED="selected";var CLASS_TOKEN="token";var CLASS_COMMENT="comment";var CLASS_BREAKPOINT="breakpoint";var EV_DONE="done";var EV_PAUSE="pause";var EV_SOFT_RESET="reset";var EV_START="start";var EV_UPDATE_DELAY="updatedelay";var EV_UPDATE_PROG="updateprogram";var EV_UPDATE_PROG_OUT_APPEND="updateprogramoutappend";var EV_UPDATE_PROG_STATE="updateprogramstate";var FRAME_SIZE=10;var MEM_NIL_VAL=0;var CHAR_IGNORE=/[^[\]<>.,+-]+/g;var brainfuck=require("../interpreter/brainfuck");var html=require("choo/html");var choo=require("choo");var helloworld=require("../bf/helloworld.bf");var app=choo({history:false});if("production"==="development"){app.use(logger)}app.use(controls);app.route("*",editorView);app.mount("#view");function editorView(state,emit){var start=function start(){emit(EV_SOFT_RESET);emit(EV_START);exec()};var exec=function exec(){return brainfuck(getProg(state),{tick:tick,write:write,done:done})};var cont=function cont(){if(state.running||!state.tick){return}emit(EV_START);state.tick()};var tick=function tick(_tick,update,_ref){var memory=_ref.memory,pointer=_ref.pointer,idx=_ref.idx,steps=_ref.steps;var stateUpdate={tick:_tick,memory:memory,pointer:pointer,idx:idx,steps:steps};if(state.running){if(state.breakpoints.indexOf(state.idx+1)!==-1){emit(EV_PAUSE)}else{var delay=Math.max(state.delay*10,10);stateUpdate.tickTimer=setTimeout(_tick,delay)}}emit(EV_UPDATE_PROG_STATE,stateUpdate)};var step=function step(){if(state.tick){state.tick()}else{emit(EV_SOFT_RESET);exec()}};var done=function done(){return emit(EV_DONE)};var pause=function pause(){return emit(EV_PAUSE)};var updateDelay=function updateDelay(delay){return emit(EV_UPDATE_DELAY,delay)};var write=function write(str){return emit(EV_UPDATE_PROG_OUT_APPEND,str)};var _state$program=state.program,program=_state$program===undefined?"":_state$program;return html(_templateObject,link("Brainfuck","https://esolangs.org/wiki/Brainfuck"),link("esoteric programming languages","https://esolangs.org/wiki/Esoteric_programming_language"),codeSnippet("<"),codeSnippet(">"),codeSnippet("+"),codeSnippet("-"),codeSnippet("["),codeSnippet("]"),codeSnippet("while (ptr != 0) {}"),codeSnippet("."),codeSnippet(","),link("ASCII","https://en.wikipedia.org/wiki/ASCII"),link("go here","https://github.com/minond/brainfuck"),link("Esolang","https://esolangs.org/wiki/Main_Page"),codeSnippet(program.length),codeSnippet(getProg(state).length),codeSnippet(state.idx),codeSnippet(getProg(state).charAt(state.idx)),codeSnippet(state.steps),!state.output?html(_templateObject2):html(_templateObject3,codeSnippet(state.output)),editorButton("Run",{onclick:start}),state.running?editorButton("Pause",{onclick:pause}):"",state.running?"":editorButton("Step",{onclick:step}),state.tick&&!state.running?editorButton("Continue",{onclick:cont}):"",rangeInput(state,"delay",updateDelay),chunk(fill(state.memory,Math.max(FRAME_SIZE,state.pointer+1),MEM_NIL_VAL),FRAME_SIZE).map(function(row,rowNum){return html(_templateObject4,fill(row,FRAME_SIZE,MEM_NIL_VAL).map(function(cell,i){return html(_templateObject5,isCellSelected(i,rowNum,state)?"selected":"",cell)}))}),editor(state,emit),ilink("Marcos Minond","/","red"),ilink("resume","/resume","red"),link("GitHub","https://github.com/minond","_blank","red"),link("send me an email","mailto:minond.marcos+site@gmail.com","_self","red"))}function setBlankState(state){if(state.tickTimer){clearTimeout(state.tickTimer)}if(!("delay"in state)){state.delay=10}if(!("breakpoints"in state)){state.breakpoints=[]}state.program=helloworld;state.running=false;state.tick=null;state.tickTimer=null;state.memory=[];state.output="";state.pointer=0;state.idx=0;state.steps=0}function controls(state,emitter){setBlankState(state);var render=function render(){emitter.emit("render");var tokens=document.querySelectorAll(".editor .token:not(.comment)");process.nextTick(function(){return document.querySelectorAll(".editor .token.breakpoint").forEach(function(elem){return elem.classList.remove(CLASS_BREAKPOINT)})});process.nextTick(function(){return document.querySelectorAll(".editor .token.selected").forEach(function(elem){return elem.classList.remove(CLASS_SELECTED)})});process.nextTick(function(){return[tokens[state.idx]].map(function(elem){return elem&&elem.classList.add(CLASS_SELECTED)})});process.nextTick(function(){return state.breakpoints.forEach(function(index){return[tokens[index]].map(function(elem){return elem&&elem.classList.add(CLASS_BREAKPOINT)})})})};document.body.addEventListener("click",function(ev){var elem=ev.target;var isElem=elem.classList.contains(CLASS_TOKEN);var isComment=elem.classList.contains(CLASS_COMMENT);var isBreakpoint=elem.classList.contains(CLASS_BREAKPOINT);if(!isElem||isComment){return}var tokens=document.querySelectorAll(".editor .token:not(.comment)");var index=[].indexOf.call(tokens,elem);if(isBreakpoint){state.breakpoints=state.breakpoints.filter(function(bp){return bp!==index});elem.classList.remove(CLASS_BREAKPOINT)}else{state.breakpoints.push(index);elem.classList.add(CLASS_BREAKPOINT)}});emitter.on(EV_UPDATE_PROG_STATE,function(_ref2){var tick=_ref2.tick,tickTimer=_ref2.tickTimer,memory=_ref2.memory,pointer=_ref2.pointer,idx=_ref2.idx,steps=_ref2.steps;state.tick=tick;state.tickTimer=tickTimer;state.memory=memory;state.pointer=pointer;state.idx=idx;state.steps=steps;render()});emitter.on(EV_START,function(){state.running=true;render()});emitter.on(EV_DONE,function(){state.tick=null;state.running=false;render()});emitter.on(EV_PAUSE,function(){state.running=false;render()});emitter.on(EV_SOFT_RESET,function(){var currProg=state.program;setBlankState(state);state.program=currProg;render()});emitter.on(EV_UPDATE_PROG_OUT_APPEND,function(str){state.output+=str;render()});emitter.on(EV_UPDATE_PROG,function(program){setBlankState(state);state.program=program;if(!program||!program.trim()){state.breakpoints=[]}process.nextTick(render)});emitter.on(EV_UPDATE_DELAY,function(delay){state.delay=delay;render()})}function logger(state,emitter){emitter.on("*",function(){var _console;for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return(_console=console).log.apply(_console,["%cchoochoo","color: #346fff"].concat(args))})}function rangeInput(state,prop,onchange){var elem=html(_templateObject6,state[prop],function(ev){return onchange(+ev.target.value)},function(ev){return onchange(+ev.target.value)});elem.isSameNode=function(target){return+state[prop]!==+target.value};return elem}function editor(state,emit){var updateProgram=function updateProgram(prog){return emit(EV_UPDATE_PROG,prog)};var extract=function extract(elem){return elem.innerText};var highlight=function highlight(){return bililiteRange.fancyText(elem.querySelector("code"),Prism.highlightElement)};var elem=html(_templateObject7,function(e){return highlight(e.target)},function(e){return updateProgram(extract(e.target))},state.program);elem.isSameNode=function(target){return state.program===extract(target)};return elem}function editorButton(value){var attrs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var extraClasses=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";return button(value,attrs,"editor-ctrl "+extraClasses)}function ilink(label){var href=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"#";var color=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"blue";return html(_templateObject8,color,href,href,label)}function link(label){var href=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"#";var target=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"_blank";var color=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"blue";return html(_templateObject9,target,color,href,label)}function codeSnippet(value){return html(_templateObject10,value)}function button(value){var attrs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var extraClasses=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";return html(_templateObject11,attrs,extraClasses,value)}function chunk(arr,size){var tmp=[];for(var i=0,len=arr.length;i<len;i+=size){tmp.push(arr.slice(i,i+size))}return tmp}function fill(arr,size,val){var tmp=arr.concat([]);for(var i=0,len=tmp.length;i<len;i++){if(tmp[i]===undefined){tmp[i]=val}}while(tmp.length<size){tmp.push(val)}return tmp}function isCellSelected(cellNum,rowNum,state){return cellNum+rowNum*FRAME_SIZE===state.pointer}function getProg(state){if(state&&state.program){return state.program.replace(CHAR_IGNORE,"")}else{return""}}}).call(this,require("_process"))},{"../bf/helloworld.bf":31,"../interpreter/brainfuck":32,_process:23,choo:6,"choo/html":5}]},{},[33]);
